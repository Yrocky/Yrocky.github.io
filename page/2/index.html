<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><title>Yrocky's blog</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/font-awesome.min.css" rel="stylesheet"><link href="/css/main.css" rel="stylesheet"></head><body><div class="wrap"><nav class="page-navigation"><div class="nav-container"><div class="page-header-logo"><h1 class="prince-log"><a href="/" class="home-link">Yrocky</a></h1></div><button type="button" data-toggle="collapse" data-target=".main-nav-items" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><ul class="collapse navbar-collapse main-nav-items"><li class="menu-item"><a href="/" target="_self">HOME</a></li><li class="menu-item"><a href="/archives/" target="_self">ARCHIVE</a></li></ul></div></nav><main class="prince-container"><div class="articles"><article class="post-block"><h2 class="post-title"><a href="/2019/03/23/open-source-DZNEmptyDataSet/" class="post-link">开源学习之DZNEmptyDataSet</a></h2><div class="post-info">2019 3月 23日</div><div class="post-entry"><p>这是一个为UITableView、UICollectionView在无数据状态下提供空态展示视图的组件，由于他们的父类都是UIScrollView，所以作者通过为UIScrollView提供分类接口来达到兼容两者的效果，接口头文件很简洁，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@interface UIScrollView (EmptyDataSet)</span><br><span class="line"></span><br><span class="line">@property (nonatomic, weak, nullable) IBOutlet id &lt;DZNEmptyDataSetSource&gt; emptyDataSetSource;</span><br><span class="line">@property (nonatomic, weak, nullable) IBOutlet id &lt;DZNEmptyDataSetDelegate&gt; emptyDataSetDelegate;</span><br><span class="line">@property (nonatomic, readonly, getter = isEmptyDataSetVisible) BOOL emptyDataSetVisible;</span><br><span class="line"></span><br><span class="line">- (void)reloadEmptyDataSet;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure></div><div class="post-meta"><a href="/2019/03/23/open-source-DZNEmptyDataSet/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/iOS开发/">iOS开发</a>, <a class="tag-link" href="/tags/开源学习/">开源学习</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2019/03/05/open-source-FDFullscreenPopGesture/" class="post-link">开源学习之FDFullscreenPopGesture</a></h2><div class="post-info">2019 3月 5日</div><div class="post-entry"><p>这是为解决视图导航中显示导航栏与否，以及支持全屏pop手势的一个很小巧的组件，是foxingdog团队出品的一款基于<code>runtime</code>+<code>KVC</code>原理实现的优雅解决方案。</p></div><div class="post-meta"><a href="/2019/03/05/open-source-FDFullscreenPopGesture/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/iOS开发/">iOS开发</a>, <a class="tag-link" href="/tags/开源学习/">开源学习</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2018/07/03/what-is-apple-in-ai/" class="post-link">Apple在机器学习领域都做了什么</a></h2><div class="post-info">2018 7月 3日</div><div class="post-entry"><p>众所周知，在WWDC2018上提出的Create CoreML让很多iOS开发者徘徊在入门人工智能的门槛前减少了一些顾虑，Apple正在为我们提供更加简单的方式来使用人工智能解决问题。不得不承认，这是苹果一贯的作风：<strong>将复杂问题简单化</strong>。而在WWDC2017的时候就推出了<code>Core ML</code>这个机器学习框架，不过由于当时的注意点不在人工智能上，而是新推出的iOS11系统以及iPhone X的适配，当时仅仅是看了一下session，没有细致的学习，时隔一年再次接触Core ML发现，系统提供的Core ML的友好程度是其他第三方无法提供的，虽然Core ML还有诸多的不足，但是官方现在正在一步步的进行优化中。</p>
<p>下面就对Apple这几年公布的涉及到人工智能的框架进行一个梳理，即作为对这一段时间的学习总结，也为身为iOS开发人员如何无痛的进入人工智能列举一些学习资源。</p>
<img src="/2018/07/03/what-is-apple-in-ai/ml_title_cloud.png" title="title"></div><div class="post-meta"><a href="/2018/07/03/what-is-apple-in-ai/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/AI/">AI</a>, <a class="tag-link" href="/tags/Core-ML/">Core ML</a>, <a class="tag-link" href="/tags/ML/">ML</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2018/04/10/make-a-game-of-maze/" class="post-link">从画一个迷宫说开去</a></h2><div class="post-info">2018 4月 10日</div><div class="post-entry"><img src="/2018/04/10/make-a-game-of-maze/maze-title-2.png" title="title">
<p>前段时间为了优化项目中的一个动画效果，在查看开发文档的过程中发现了GameplayKit这一个框架，这个框架为映射游戏中的一些角色、路径等提供了一组工具。使用游戏引擎内部的渲染可以很好的解决项目中原有的高内存动画效果，在深入的了解了这个框架之后发现里面涉及到了很多的经典算法，也有Apple自己在算法上做的优化，于是在优化项目之后整理出来相关内容，加深对算法的理解。</p></div><div class="post-meta"><a href="/2018/04/10/make-a-game-of-maze/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/GameplayKit/">GameplayKit</a>, <a class="tag-link" href="/tags/算法/">算法</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2018/03/15/flex-box-layout/" class="post-link">Flex-box layout on iOS</a></h2><div class="post-info">2018 3月 15日</div><div class="post-entry"><p>对于布局的类库中，官方的Auto Layout是被大多数开发者接受的一种，但是由于其冗长的语法，开发者会选择对其封装过的Masonry来使用。既然选择使用Auto Layout来进行布局，就是不希望使用最原始的手动布局来解决屏幕适配问题(屏幕旋转、不同设备尺寸、iPad中的多任务等)，Auto Layout是<a href="https://en.wikipedia.org/wiki/Cassowary_(software\" target="_blank" rel="noopener">Cassowary</a>)的一种实现，是使用描述性语言来实现一个/组线性方程或者不等式，由于是根据用户的方程式进行的布局约束，在进行实际视图层次布局的时候，就需要大量的解方程的计算，<a href="https://draveness.me/layout-performance" target="_blank" rel="noopener">这个计算的消耗量是很大的</a>，并且当视图的层级有变动的时候，这种计算还会重新进行一次，并没有对已有的计算进行缓存。</p>
<p>基于系统布局引擎的这种问题，很多另类布局引擎(Masonry不算)就慢慢被开发了出来，基本上的实现都摒弃了Auto Layout这种布局方式，改为底层使用手动布局，表现层使用一套新的布局约束体系。诚然这些布局引擎在性能上大大的优于Auto  Layout，甚至堪比手动布局，但是<strong>学习曲线却是很陡</strong>的，甚至比当初接触Auto Layout要学习的语法还要多，不过使用时间长了之后就会发现如同使用Masonry一样顺手。其中根据接受程度来说，采用<a href="https://github.com/facebook/yoga" target="_blank" rel="noopener">Flex-Box布局</a>是受众面很广的一种实现方式，其余的或者<a href="https://www.jianshu.com/p/603fd470bbb0" target="_blank" rel="noopener">结合安卓、web前端的几大布局实现的功能更强大的布局</a>或<a href="https://github.com/mirego/PinLayout" target="_blank" rel="noopener">自己实现一种布局的方式</a>或<a href="http://texturegroup.org/docs/layout2-quickstart.html" target="_blank" rel="noopener">结合Flex-Box实现的异步计算并且缓存布局的全家桶ASDK</a>或<a href="https://github.com/linkedin/LayoutKit" target="_blank" rel="noopener">同样具有异步计算布局并且缓存的布局引擎LayoutKit</a>等等，这些新布局引擎的学习成本就又是一个新的挑战了。</p>
<p>可以发现，在Web前端广受欢迎的Flex-Box布局在iOS上的实现还是很广泛的，毕竟性能的提升是很明显的，那么这篇文章就来作为学习Flex-Box在iOS系统上实现的一个记录。</p>
<img src="/2018/03/15/flex-box-layout/layout-title.png" title="title"></div><div class="post-meta"><a href="/2018/03/15/flex-box-layout/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/iOS/">iOS</a>, <a class="tag-link" href="/tags/学习/">学习</a>, <a class="tag-link" href="/tags/布局/">布局</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2017/11/17/ios-11/" class="post-link">关于自动布局和iPhone X、iOS11的适配</a></h2><div class="post-info">2017 11月 17日</div><div class="post-entry"><p>自从提供了<strong>Auto Layout</strong>之后，官方文档中就建议开发者尽量的在布局中使用自动布局技术，虽然使用frame布局可以应付一些屏幕尺寸不是很多的设备，但是遇到iPad中可以进行多界面操作、iPhone X安全区内布局这样的迭代出来的适配问题，以前的frame布局会越来越不实用，对界面的掌控力度越来越弱，因此下面所有讨论都是基于使用Auto Layout布局而不是frame布局。</p>
<img src="/2017/11/17/ios-11/ios_11_safe_area.png" title="title"></div><div class="post-meta"><a href="/2017/11/17/ios-11/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/iOS11/">iOS11</a>, <a class="tag-link" href="/tags/学习/">学习</a>, <a class="tag-link" href="/tags/布局/">布局</a>, <a class="tag-link" href="/tags/自动布局/">自动布局</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2017/09/11/hook-wechat/" class="post-link">微信，让生活更美好 	 插件，让微信更方便</a></h2><div class="post-info">2017 9月 11日</div><div class="post-entry"><img src="/2017/09/11/hook-wechat/wechat_title.png" title="title">
<p>不得不说，微信现在已经成为了生活中至关重要的一个工具。在使用的时候难免会想要一些个性化的功能，但是这些功能原版app内没有提供，那么就要靠自己动手了。由于iOSOpenDev不再更新引起的很多不便和搞事情前配置各种麻烦的命令让我都快放弃逆向了，恰巧前段时间看到<a href="http://iosre.com/t/topic/8696" target="_blank" rel="noopener">逆向社区</a>中的大大们在iOSOpenDev基础上整出了个更加好用的<a href="https://github.com/AloneMonkey/MonkeyDev.git" target="_blank" rel="noopener">MonkeyDev</a>，这个新的Dev让我又有了玩一把微信的心思。</p>
<p>使用MonkeyDev将以前的一些tweak放进去编译之后可以完美的跑在手机上了，现在逆向真的是有点傻瓜操作了，只需要关心如何将自己的想法hook出来，其余的繁复操作都交给Dev就好了。那好了，这次就好好体验一下MonkeyDev来写一个微信助手的tweak，hook的思路会一步一步的列出来，涉及到的主要代码会贴出来，功能都是一些有实际需求但不知道可不可以实现的😜，80%在探索后都可以实现，不然这篇文章就是在扯淡了。</p>
<p>涉及到的功能包括但不会详细探究的：各种姿势抢红包、防止消息撤回、修改微信步数、群聊黑名单，因为这些功能都已经有很详细的教程讲解了，并且如果微信不改版，基本的hook思路是不会变的。虽然不会涉及到这些，但是也会将前人的思路整理列出来，以供查阅学习。另外针对于修改微信步数，我做了一个更加有趣的可玩功能，虽然是改步数，但是也要改的不那么明显。</p>
<p>here we go.</p></div><div class="post-meta"><a href="/2017/09/11/hook-wechat/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/学习/">学习</a>, <a class="tag-link" href="/tags/微信/">微信</a>, <a class="tag-link" href="/tags/逆向/">逆向</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2017/08/05/sketch/" class="post-link">使用Sketch进行设计学习</a></h2><div class="post-info">2017 8月 5日</div><div class="post-entry"><p>Sketch可以很方便的用来做矢量图设计，这里记录一些自己使用Sketch临摹的一些东西，以及使用Sketch的时候的问题与技巧。</p>
<img src="/2017/08/05/sketch/sketch_logo.png" title="logo">
<blockquote>
<p>加油，少年！！</p>
</blockquote></div><div class="post-meta"><a href="/2017/08/05/sketch/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/Sketch/">Sketch</a>, <a class="tag-link" href="/tags/设计/">设计</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2017/05/15/convert-Train-of-thought/" class="post-link">换个思路，让编程更加有意思</a></h2><div class="post-info">2017 5月 15日</div><div class="post-entry"><p>记录一些自己平常使用的另类编程方法，给繁复枯燥的代码平添一些乐趣。主要是从一些实际使用场景出发，探讨如何『偷懒』，让时间不那么浪费在重复修改代码上，即使修改也要让修改代码没那么麻烦。</p>
<blockquote>
<p>目的：</p>
<ul>
<li>解决冗余代码</li>
<li>减少样板代码的书写</li>
<li>使用方便</li>
</ul>
</blockquote></div><div class="post-meta"><a href="/2017/05/15/convert-Train-of-thought/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/学习/">学习</a></div></div></article><article class="post-block"><h2 class="post-title"><a href="/2016/12/11/one-function/" class="post-link">一个bug了解JS的核心知识点</a></h2><div class="post-info">2016 12月 11日</div><div class="post-entry"><p>由一段代码来开始对JS中一些知识点的学习</p>
<figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapElements</span><span class="params">(a)</span>&#123;</span></span><br><span class="line">    var result = [] , i , <span class="built_in">length</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span> ,<span class="built_in">length</span> = a.<span class="built_in">length</span>; i &lt; <span class="built_in">length</span>; i ++)&#123;</span><br><span class="line">        result[i] = <span class="function"><span class="keyword">function</span> <span class="params">()</span>&#123;</span></span><br><span class="line">            <span class="keyword">return</span> a[i];</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var wrapped = wrapElements([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>,<span class="number">50</span>]);</span><br><span class="line">var f = wrapped[<span class="number">0</span>];</span><br><span class="line">f(); <span class="comment">// ?</span></span><br></pre></td></tr></table></figure>
<p>预想的这里要输出10，但是实际上却是<code>udefined</code>。</p>
<p>这个bug代码段的主要原因是<code>作用域</code>问题，但是还涉及到<code>闭包</code>、<code>变量提升</code>、<code>立即调用函数</code>等，因此做一个笔记。</p></div><div class="post-meta"><a href="/2016/12/11/one-function/" class="article-more">阅读更多</a><div class="post-tags-box"><a class="tag-link" href="/tags/JavaScript/">JavaScript</a>, <a class="tag-link" href="/tags/学习/">学习</a></div></div></article></div><div class="paginator"><div class="prev-wrap col-md-6 col-xs-6"><i class="fa fa-angle-double-left"></i><a href="/" class="prev-page">上一页</a></div><div class="next-wrap col-md-6 col-xs-6"><a href="/page/3/" class="next-page">下一页</a><i class="fa fa-angle-double-right"></i></div></div></main></div><footer><div class="copyright"><p>Crafted with <i class="fa fa-heart"></i> by&nbsp;Yrocky&nbsp;|&nbsp;<a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yiliashaw/hexo-theme-prince" target="_blank">Prince</a> by SHAW</p></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.0.47/jquery.fancybox.min.js"></script><script src="/js/script.js"></script></body></html>